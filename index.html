<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Gastos Mensuales</title>
<style>
  :root{
    --brand:#00A6D6;           /* turquesa */
    --brand-dark:#007FA4;
    --ink:#0f172a;             /* slate-900 */
    --muted:#64748b;           /* slate-500 */
    --bg:#f8fafc;              /* slate-50 */
    --card:#ffffff;
    --ok:#16a34a;
    --danger:#dc2626;
    --ring:rgba(0,166,214,.35);
  }
  *{box-sizing:border-box}
  body{
    margin:0; background:linear-gradient(135deg,var(--bg),#eef7fb 40%,#e6f7fb);
    color:var(--ink); font:15px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    padding:32px;
  }
  .wrap{
    max-width:980px; margin:0 auto;
  }
  .title{
    display:flex; align-items:baseline; gap:12px; margin:0 0 14px;
  }
  .title h1{
    margin:0; font-size:28px; letter-spacing:.2px;
    background:linear-gradient(90deg,var(--brand),#06b6d4);
    -webkit-background-clip:text; background-clip:text; color:transparent;
  }
  .pill{
    font-size:12px; color:#0ea5b7; background:#def7ff; border:1px solid #b3ecfb;
    padding:4px 10px; border-radius:999px;
  }
  .card{
    background:var(--card); border-radius:16px; box-shadow:0 8px 30px rgba(0,0,0,.08);
    overflow:hidden; border:1px solid #e6f2f6;
  }
  table{width:100%; border-collapse:separate; border-spacing:0}
  thead th{
    text-align:left; font-weight:700; color:white; letter-spacing:.4px;
    padding:14px 16px;
    background:linear-gradient(90deg,var(--brand-dark),var(--brand));
  }
  thead th:first-child{border-top-left-radius:16px}
  thead th:last-child{border-top-right-radius:16px; text-align:right}
  tbody tr{
    transition:background .15s ease, transform .05s ease;
  }
  tbody tr:hover{background:#f1fbff}
  td{
    padding:12px 16px; border-bottom:1px solid #eef4f7; vertical-align:middle;
  }
  td.group{
    font-weight:700; color:#0f766e; background:#e6fffb; border-bottom-color:#c7fff6;
  }
  td.notes{color:var(--muted); font-size:12px}
  td.amount{width:220px; text-align:right}
  .money{
    width:180px; text-align:right; padding:10px 12px; font:600 15px/1.1 ui-monospace,SFMono-Regular,Menlo,monospace;
    color:var(--ink); background:#ffffff; border:1.5px solid #e2eef4; border-radius:12px;
    outline:none; transition:border .15s, box-shadow .15s, background .15s;
  }
  .money:focus{
    border-color:var(--brand); box-shadow:0 0 0 6px var(--ring); background:#fbfeff;
  }
  tfoot td{
    padding:14px 16px; font-weight:800;
    background:linear-gradient(90deg,#f0fbff,#e6f7fb);
  }
  .badge{
    display:inline-block; font-size:11px; font-weight:700; color:#0369a1;
    background:#e0f2fe; border:1px solid #bae6fd; padding:2px 8px; border-radius:999px; margin-left:8px;
  }
  .totals{
    display:flex; gap:12px; flex-wrap:wrap; padding:16px;
    background:transparent; border-top:1px dashed #d7e9f0;
  }
  .chip{
    flex:1 1 240px; display:flex; align-items:center; justify-content:space-between;
    padding:12px 14px; border-radius:12px; background:#ffffff; border:1px solid #e6f2f6;
    box-shadow:0 4px 16px rgba(0,0,0,.05);
  }
  .chip .label{color:#0f766e; font-weight:700}
  .chip .value{font:700 16px/1 ui-monospace,SFMono-Regular,Menlo,monospace}
  .grand{color:#0b3b47}
  .btns{display:flex; gap:10px; padding:14px 16px}
  button{
    cursor:pointer; border:1px solid #cfeaf3; background:#ffffff; color:#0b3b47;
    padding:10px 14px; border-radius:12px; font-weight:600;
  }
  button.primary{
    background:linear-gradient(90deg,var(--brand-dark),var(--brand));
    color:white; border:none;
    box-shadow:0 6px 18px rgba(0,166,214,.35);
  }
  @media (max-width:640px){
    .money{width:140px}
    td.amount{width:160px}
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="title">
      <h1>Gastos mensuales</h1>
      <span class="pill">Editable · Suma automática</span>
    </div>
    <div class="card">
      <table id="tabla">
        <thead>
          <tr>
            <th>Categoría</th>
            <th style="text-align:right">Monto (MXN)</th>
          </tr>
        </thead>
        <tbody>
          <!-- Grupo: Tarjetas bancarias -->
          <tr><td class="group">Tarjetas bancarias <span class="badge" id="b-tarjetas">MXN 0.00</span></td><td class="group amount"></td></tr>
          <tr><td>Invex</td><td class="amount"><input class="money g-tarjetas" type="number" step="0.01" min="0" value="0"></td></tr>
          <tr><td>Banamex</td><td class="amount"><input class="money g-tarjetas" type="number" step="0.01" min="0" value="0"></td></tr>
          <tr><td>HSBC Air</td><td class="amount"><input class="money g-tarjetas" type="number" step="0.01" min="0" value="0"></td></tr>
          <tr><td>Bajío</td><td class="amount"><input class="money g-tarjetas" type="number" step="0.01" min="0" value="0"></td></tr>
          <tr><td>BBVA</td><td class="amount"><input class="money g-tarjetas" type="number" step="0.01" min="0" value="0"></td></tr>
          <tr><td>HSBC 2 NOW</td><td class="amount"><input class="money g-tarjetas" type="number" step="0.01" min="0" value="0"></td></tr>

          <!-- Grupo: Departamentales -->
          <tr><td class="group">Departamentales <span class="badge" id="b-dep">MXN 0.00</span></td><td class="group amount"></td></tr>
          <tr><td>Sears</td><td class="amount"><input class="money g-dep" type="number" step="0.01" min="0" value="0"></td></tr>
          <tr><td>Liverpool</td><td class="amount"><input class="money g-dep" type="number" step="0.01" min="0" value="0"></td></tr>
          <tr><td>Coppel</td><td class="amount"><input class="money g-dep" type="number" step="0.01" min="0" value="0"></td></tr>

          <!-- Grupo: Gastos casa -->
          <tr><td class="group">Gastos casa <span class="badge" id="b-casa">MXN 0.00</span></td><td class="group amount"></td></tr>
          <tr><td>Gas</td><td class="amount"><input class="money g-casa" type="number" step="0.01" min="0" value="0"></td></tr>
          <tr><td>Luz</td><td class="amount"><input class="money g-casa" type="number" step="0.01" min="0" value="0"></td></tr>
          <tr><td>Agua</td><td class="amount"><input class="money g-casa" type="number" step="0.01" min="0" value="0"></td></tr>
          <tr><td>Internet</td><td class="amount"><input class="money g-casa" type="number" step="0.01" min="0" value="0"></td></tr>
        </tbody>
        <tfoot>
          <tr>
            <td>Total mensual</td>
            <td class="amount" id="total" style="font:800 18px/1 ui-monospace,SFMono-Regular,Menlo,monospace; text-align:right;">MXN 0.00</td>
          </tr>
        </tfoot>
      </table>

      <div class="totals">
        <div class="chip"><span class="label">Tarjetas</span><span class="value" id="t-tarjetas">MXN 0.00</span></div>
        <div class="chip"><span class="label">Departamentales</span><span class="value" id="t-dep">MXN 0.00</span></div>
        <div class="chip"><span class="label">Gastos casa</span><span class="value" id="t-casa">MXN 0.00</span></div>
        <div class="chip grand"><span class="label">Total</span><span class="value" id="t-all">MXN 0.00</span></div>
      </div>

      <div class="btns">
        <button class="primary" id="btn-copy">Copiar totales</button>
        <button id="btn-clear">Limpiar</button>
      </div>
    </div>
  </div>

<script>
  const fmt = new Intl.NumberFormat('es-MX',{style:'currency',currency:'MXN',maximumFractionDigits:2});
  const qs = s => document.querySelector(s);
  const qsa = s => Array.from(document.querySelectorAll(s));

  function sum(cls){
    return qsa('.'+cls).reduce((a,i)=>a + Number(i.value||0),0);
  }
  function render(){
    const tarjetas = sum('g-tarjetas');
    const dep = sum('g-dep');
    const casa = sum('g-casa');
    const all = tarjetas + dep + casa;

    qs('#b-tarjetas').textContent = fmt.format(tarjetas);
    qs('#b-dep').textContent = fmt.format(dep);
    qs('#b-casa').textContent = fmt.format(casa);

    qs('#t-tarjetas').textContent = fmt.format(tarjetas);
    qs('#t-dep').textContent = fmt.format(dep);
    qs('#t-casa').textContent = fmt.format(casa);
    qs('#total').textContent = fmt.format(all);
    qs('#t-all').textContent = fmt.format(all);
  }

  qsa('.money').forEach(i=> i.addEventListener('input', render));
  render();

  qs('#btn-clear').addEventListener('click', ()=>{
    qsa('.money').forEach(i=> i.value = 0);
    render();
  });

  qs('#btn-copy').addEventListener('click', async ()=>{
    const data = {
      Tarjetas: sum('g-tarjetas'),
      Departamentales: sum('g-dep'),
      Casa: sum('g-casa'),
      Total: sum('g-tarjetas') + sum('g-dep') + sum('g-casa')
    };
    const text =
`TOTALES GASTOS MENSUALES
- Tarjetas: ${fmt.format(data.Tarjetas)}
- Departamentales: ${fmt.format(data.Departamentales)}
- Gastos casa: ${fmt.format(data.Casa)}
= Total: ${fmt.format(data.Total)}`;
    try{
      await navigator.clipboard.writeText(text);
      alert('Totales copiados.');
    }catch(e){
      alert('No se pudo copiar. Selecciona manualmente.');
    }
  });
</script>
</body>
</html>
